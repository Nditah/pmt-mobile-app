<ion-header>
    <ion-navbar color="primary">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
        	<span ion-text>Messages</span>
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="lightest-bg">

	<ion-grid no-padding fixed>
		<ion-row no-padding>
			<ion-col>
				<ion-card *ngIf="!messages.length" class="primary-bg" margin-top>
					<ion-card-content>
						<p text-center class="text-white">You have no messages yet.</p>
					</ion-card-content>
				</ion-card>

				<ion-list>
					<ion-item-sliding *ngFor="let message of messages">
						<button ion-item (click)="itemTapped(message)" [ngClass]="{'light-bg': !message.read}">
							<h2 [ngClass]="{'fw700 text-white': message.receive_status !== 'READ'}">
								<ion-icon name="mail" color="dark" *ngIf="message.receive_status !== 'READ'"></ion-icon>
								<ion-icon name="mail-open" color="primary" *ngIf="message.receive_status === 'READ'"></ion-icon>
								{{message.subject}}
							</h2>
							<p ion-text color="dark">{{ message.sender }} âˆ™ {{ message.created_at | date: 'MM/dd/yyyy' }}</p>
						</button>
						<ion-item-options>
							<button ion-button color="danger" (click)="deleteItem(message)">Delete</button>
						</ion-item-options>
					</ion-item-sliding>
				</ion-list>
			</ion-col>
		</ion-row>
	</ion-grid>

</ion-content>
